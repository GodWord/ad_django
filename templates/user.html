{% load static from staticfiles %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
    <!-- Google Chrome Frame也可以让IE用上Chrome的引擎: -->
    <meta name="renderer" content="webkit">
    <!--国产浏览器高速模式-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="XX科技"/>
    <!-- 作者 -->
    <meta name="revised" content="XX科技.v3, 2019/05/01"/>
    <!-- 定义页面的最新版本 -->
    <meta name="description" content="网站简介"/>
    <!-- 网站简介 -->
    <meta name="keywords" content="搜索关键字，以半角英文逗号隔开"/>
    <title>XX科技出品</title>

    <!-- 公共样式 开始 -->
    <link rel="stylesheet" type="text/css" href="{% static "css/base.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "fonts/iconfont.css" %}">
    <script type="text/javascript" src="{% static "framework/jquery-1.11.3.min.js" %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static "layui/css/layui.css" %}">
    <script type="text/javascript" src="{% static '/layui/layui.js' %}"></script>
    <script src="{% static "framework/cframe.js" %}"></script><!-- 仅供所有子页面使用 -->
    <!-- 公共样式 结束 -->

    <style>
        .layui-input-block {
            margin-top: 10px;

        }

        .layui-label {
            margin-top: 20px;
        }
    </style>

</head>

<body>
<div class="cBody">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>个人信息</legend>
    </fieldset>
    <div style="padding: 20px; background-color: #FFFFFF;">
        <form id="addForm" class="layui-form" action="">

            <div class="layui-row layui-col-space15">
                <div class="layui-col-md7">
                    <div>
                        <div>
                            <div class="layui-inline layui-input-block layui-label">
                                用户名
                            </div>
                            <br>
                            <div class=" layui-input-block">
                                <input type="text" name="username" required lay-verify="required" autocomplete="off"
                                       class="layui-input" value="{{ request.user.username }}" disabled>
                            </div>
                        </div>
                        <div>
                            <div class="layui-inline layui-input-block layui-label">
                                用户ID
                            </div>
                            <br>
                            <div class=" layui-input-block">
                                <input type="text" name="username" required lay-verify="required" autocomplete="off"
                                       class="layui-input" value="{{ request.user.id }}" disabled>
                            </div>
                        </div>
                        <div>
                            <div class="layui-inline layui-input-block layui-label">
                                用户
                            </div>
                            <br>
                            <div class=" layui-input-block">
                                <input type="text" name="username" required lay-verify="required" autocomplete="off"
                                       class="layui-input" disabled>
                            </div>
                        </div>
                        {#                        <div>#}
                        {#                            <div class="layui-inline layui-input-block layui-label">#}
                        {#                                用户状态#}
                        {#                            </div>#}
                        {#                            <br>#}
                        {#                            <div class=" layui-input-block">#}
                        {#                                {% ifequal request.user.is_active True %}#}
                        {#                                    <input type="radio" name="is_active" value="is_active" title="启用" checked>#}
                        {#                                {% else %}#}
                        {#                                    <input type="radio" name="is_active" value="not_active" title="禁用" checked>#}
                        {#                                {% endifequal %}#}
                        {##}
                        {#                            </div>#}
                        {#                        </div>#}


                        <div>
                            <div class="layui-inline layui-input-block layui-label">
                                性别
                            </div>
                            <br>
                            <div class=" layui-input-block">
                                <input type="radio" name="gender" value="{{ request.user.gender }}"
                                       title="{{ request.user.gender }}" checked>
                            </div>
                        </div>

                    </div>


                </div>
                <div class="layui-col-md5" align="center">
                    <div class="layui-inline" align="center">
                        <img src="{% static 'images/goodsPIC2.png' %}" class="layui-circle" style="width: 40%">
                    </div>
                    <div align="center">
                        <button class="layui-btn" style="margin-top: 5%;">编辑</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    {#    <form id="addForm" class="layui-form" action="">#}
    {##}
    {##}
    {#        <div class="layui-form-item">#}
    {#            <label class="layui-form-label">用户名</label>#}
    {#            <div class="layui-input-block">#}
    {#                <input type="text" name="username" required lay-verify="required" autocomplete="off"#}
    {#                       class="layui-input">#}
    {#            </div>#}
    {#        </div>#}
    {#        <div class="layui-form-item">#}
    {#            <label class="layui-form-label">用户ID</label>#}
    {#            <div class="layui-input-block">#}
    {#                <input type="text" name="id" required lay-verify="required" autocomplete="off" class="layui-input">#}
    {#            </div>#}
    {#        </div>#}
    {#        <div class="layui-form-item">#}
    {#            <label class="layui-form-label">头像</label>#}
    {#            <div class="layui-inline">#}
    {#                <img src="{% static 'images/goodsPIC2.png' %}" class="layui-circle" style="width: 15%">#}
    {#            </div>#}
    {##}
    {#        </div>#}
    {##}
    {##}
    {#        <div class="layui-form-item">#}
    {#            <label class="layui-form-label">用户状态</label>#}
    {#            <div class="layui-input-block">#}
    {#                <input type="radio" name="status" value="nan" title="启用">#}
    {#                <input type="radio" name="status" value="nv" title="禁用" checked>#}
    {#            </div>#}
    {#        </div>#}
    {##}
    {##}
    {#        <div class="layui-form-item">#}
    {#            <div class="layui-input-block">#}
    {#                <button class="layui-btn" lay-submit lay-filter="submitBut">编辑</button>#}
    {#                <button class="layui-btn" onclick="addCustomList('customList')">编辑</button>#}
    {#            </div>#}
    {#        </div>#}
    {#    </form>#}


    <script>
        layui.use(['upload', 'form'], function () {
            var form = layui.form;
            var upload = layui.upload;
            var layer = layui.layer;
            //监听提交
            form.on('submit(submitBut)', function (data) {
                return false;
            });
            form.verify({
                //数组的两个值分别代表：[正则匹配、匹配不符时的提示文字]
                ZHCheck: [
                    /^[\u0391-\uFFE5]+$/
                    , '只允许输入中文'
                ]
            });
            //普通图片上传
            var uploadInst = upload.render({
                elem: '#upload_img'
                , url: '/upload/'
                , before: function (obj) {
                    //预读本地文件示例，不支持ie8
                    obj.preview(function (index, file, result) {
                        $('#upload').attr('src', result); //图片链接（base64）
                    });
                }
                , done: function (res) {
                    //如果上传失败
                    if (res.code > 0) {
                        return layer.msg('上传失败');
                    }
                    //上传成功
                }
                , error: function () {
                    //演示失败状态，并实现重传
                    var demoText = $('#img_show');
                    demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                    demoText.find('.demo-reload').on('click', function () {
                        uploadInst.upload();
                    });
                }
            });
        });
    </script>

</div>
</body>

</html>